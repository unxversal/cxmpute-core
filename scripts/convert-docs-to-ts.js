const fs = require('fs');
const path = require('path');

// Input and output file paths
const inputFile = path.join(__dirname, '../src/lib/docs-content.json');
const outputFile = path.join(__dirname, '../src/lib/docs-content.ts');

function convertJsonToTs() {
  try {
    // Read the existing JSON file
    if (!fs.existsSync(inputFile)) {
      console.log('‚ùå docs-content.json not found, skipping conversion');
      return;
    }

    const jsonContent = fs.readFileSync(inputFile, 'utf8');
    const docsData = JSON.parse(jsonContent);
    
    // Generate TypeScript content
    const tsContent = `// Auto-generated documentation content
// Do not edit this file directly - run 'npm run build:docs' to regenerate

export const docsContent: Record<string, string> = ${JSON.stringify(docsData, null, 2)};

export default docsContent;
`;

    // Write the TypeScript file
    fs.writeFileSync(outputFile, tsContent);
    
    console.log('‚úÖ Successfully converted docs-content.json to docs-content.ts');
    console.log(`üìÑ Output: ${outputFile}`);
    
    // Optionally remove the JSON file
    console.log('üóëÔ∏è  You can now delete the old docs-content.json file');
    
  } catch (error) {
    console.error('‚ùå Error converting JSON to TypeScript:', error);
    process.exit(1);
  }
}

// Run the conversion
convertJsonToTs(); 